<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>마스다 무네아키 — 일대기 마일스톤</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');

  :root {
    --ccc-accent: #DAEE01;
    --ccc-accent-dark: #b8c900;
    --ccc-black: #111111;
    --ccc-dark: #1a1a1a;
    --ccc-gray: #555555;
    --ccc-gray-light: #888888;
    --ccc-gray-muted: #AAAAAA;
    --ccc-bg: #FAFAFA;
    --ccc-white: #FFFFFF;
    --ccc-border: #E0E0E0;
    --ccc-accent-soft: #f6f9e0;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: 'Noto Sans KR', 'Inter', -apple-system, sans-serif;
    background: var(--ccc-bg);
    color: var(--ccc-dark);
    line-height: 1.7;
    -webkit-font-smoothing: antialiased;
  }

  /* ─── MARQUEE ─── */
  .marquee-wrap {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 101;
    overflow: hidden;
    white-space: nowrap;
    padding: 10px 0 6px;
    background: var(--ccc-black);
  }
  .marquee {
    display: inline-block;
    animation: marquee 30s linear infinite;
  }
  .marquee span {
    font-family: 'Inter', sans-serif;
    font-size: 10px;
    font-weight: 400;
    letter-spacing: 6px;
    text-transform: uppercase;
    color: var(--ccc-accent);
    padding-right: 80px;
  }
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* ─── HEADER ─── */
  header {
    position: fixed;
    top: 33px;
    left: 0;
    right: 0;
    z-index: 100;
    background: rgba(250,250,250,0.92);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--ccc-border);
    transition: all 0.3s ease;
  }

  header .inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 40px 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  header .header-right {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  header .chapter-links {
    display: flex;
    gap: 4px;
    margin-right: 24px;
    padding-right: 24px;
    border-right: 1px solid var(--ccc-border);
  }

  header .chapter-links a {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.5px;
    text-decoration: none;
    color: var(--ccc-gray-light);
    padding: 4px 10px;
    border-radius: 3px;
    transition: all 0.25s ease;
  }

  header .chapter-links a:hover {
    color: var(--ccc-black);
    background: rgba(0,0,0,0.04);
  }

  header .chapter-links a.active {
    color: var(--ccc-black);
    background: var(--ccc-accent);
    font-weight: 600;
  }

  header .logo {
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    font-size: 13px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--ccc-black);
  }

  header .logo span {
    color: var(--ccc-accent-dark);
  }

  header nav a {
    font-size: 12px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--ccc-gray);
    text-decoration: none;
    margin-left: 32px;
    transition: color 0.3s;
    font-weight: 500;
  }

  header nav a:hover {
    color: var(--ccc-black);
  }

  /* ─── HERO ─── */
  .hero {
    padding: 222px 40px 100px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .hero-label {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--ccc-gray-light);
    margin-bottom: 24px;
    font-weight: 600;
  }

  .hero h1 {
    font-size: clamp(36px, 5vw, 64px);
    font-weight: 700;
    line-height: 1.15;
    color: var(--ccc-black);
    margin-bottom: 24px;
    letter-spacing: -1px;
  }

  .hero h1 em {
    font-style: normal;
    position: relative;
    display: inline;
    background: linear-gradient(to top, var(--ccc-accent) 40%, transparent 40%);
    padding: 0 6px;
    margin: 0 -6px;
  }

  .hero-sub {
    font-size: 17px;
    color: var(--ccc-gray);
    max-width: 580px;
    line-height: 1.8;
    font-weight: 300;
  }

  /* ─── STATS BAR ─── */
  .hero-stats {
    display: flex;
    gap: 0;
    margin-top: 48px;
    border-top: 1px solid var(--ccc-border);
    border-bottom: 1px solid var(--ccc-border);
  }

  .hero-stat {
    flex: 1;
    padding: 28px 0;
    text-align: center;
    border-right: 1px solid var(--ccc-border);
    transition: background 0.3s ease;
  }

  .hero-stat:last-child {
    border-right: none;
  }

  .hero-stat:hover {
    background: var(--ccc-accent-soft);
  }

  .hero-stat-number {
    font-family: 'Inter', sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: var(--ccc-black);
    letter-spacing: -1px;
    line-height: 1;
    margin-bottom: 8px;
  }

  .hero-stat-label {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--ccc-gray-light);
    font-weight: 500;
  }

  /* ─── CHAPTER SECTIONS ─── */
  .chapter-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
  }

  .chapter-header {
    padding: 80px 0 48px;
    border-top: 1px solid var(--ccc-border);
  }

  .chapter-label {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--ccc-gray-light);
    font-weight: 600;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .chapter-label::before {
    content: '';
    width: 24px;
    height: 2px;
    background: var(--ccc-accent);
  }

  .chapter-title {
    font-size: 28px;
    font-weight: 700;
    color: var(--ccc-black);
    letter-spacing: -0.5px;
  }

  /* ─── MILESTONE GRID ─── */
  .milestone-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 20px;
    padding-bottom: 40px;
  }

  .milestone-card {
    background: var(--ccc-white);
    border: 1px solid var(--ccc-border);
    border-radius: 4px;
    padding: 32px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
  }

  .milestone-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 0;
    background: var(--ccc-accent);
    transition: height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .milestone-card:hover {
    border-color: var(--ccc-accent-dark);
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.06);
  }

  .milestone-card:hover::before {
    height: 100%;
  }

  .milestone-number {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 2px;
    color: var(--ccc-gray-light);
    margin-bottom: 16px;
  }

  .milestone-period {
    font-family: 'Inter', sans-serif;
    font-size: 12px;
    color: var(--ccc-gray-muted);
    margin-bottom: 12px;
    font-weight: 400;
  }

  .milestone-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--ccc-black);
    line-height: 1.4;
    margin-bottom: 16px;
    letter-spacing: -0.3px;
  }

  .milestone-summary {
    font-size: 14px;
    color: var(--ccc-gray);
    line-height: 1.7;
    font-weight: 300;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .milestone-arrow {
    position: absolute;
    bottom: 28px;
    right: 28px;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transform: translateX(-8px);
    transition: all 0.3s ease;
    color: var(--ccc-black);
  }

  .milestone-card:hover .milestone-arrow {
    opacity: 1;
    transform: translateX(0);
  }

  /* ─── MODAL ─── */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 200;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }

  .modal-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  .modal {
    position: fixed;
    top: 0;
    right: -560px;
    width: 100%;
    max-width: 560px;
    height: 100vh;
    background: var(--ccc-white);
    z-index: 201;
    overflow-y: auto;
    transition: right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: -20px 0 60px rgba(0,0,0,0.1);
  }

  .modal.active {
    right: 0;
  }

  .modal-close {
    position: sticky;
    top: 0;
    background: var(--ccc-white);
    padding: 24px 40px;
    display: flex;
    justify-content: flex-end;
    z-index: 10;
    border-bottom: 1px solid var(--ccc-border);
  }

  .modal-close button {
    background: none;
    border: 1px solid var(--ccc-border);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
    color: var(--ccc-gray);
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-close button:hover {
    border-color: var(--ccc-black);
    color: var(--ccc-black);
  }

  .modal-content {
    padding: 48px 40px 80px;
  }

  .modal-chapter {
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--ccc-gray-light);
    font-weight: 600;
    margin-bottom: 8px;
  }

  .modal-number {
    font-family: 'Inter', sans-serif;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 2px;
    color: var(--ccc-gray-light);
    margin-bottom: 20px;
  }

  .modal-title {
    font-size: 26px;
    font-weight: 700;
    color: var(--ccc-black);
    line-height: 1.35;
    margin-bottom: 12px;
    letter-spacing: -0.5px;
  }

  .modal-period {
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    color: var(--ccc-gray-light);
    margin-bottom: 36px;
    font-weight: 400;
  }

  .modal-divider {
    width: 32px;
    height: 2px;
    background: var(--ccc-accent);
    margin-bottom: 36px;
  }

  .modal-section-label {
    font-family: 'Inter', sans-serif;
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--ccc-black);
    font-weight: 600;
    margin-bottom: 12px;
  }

  .modal-summary {
    font-size: 15px;
    color: var(--ccc-dark);
    line-height: 1.85;
    font-weight: 400;
    margin-bottom: 40px;
  }

  .modal-insight-box {
    background: var(--ccc-accent-soft);
    border-left: 3px solid var(--ccc-accent);
    padding: 24px 28px;
    border-radius: 0 4px 4px 0;
  }

  .modal-insight-label {
    font-family: 'Inter', sans-serif;
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--ccc-black);
    font-weight: 600;
    margin-bottom: 12px;
  }

  .modal-insight {
    font-size: 14px;
    color: var(--ccc-dark);
    line-height: 1.85;
    font-weight: 400;
  }

  /* ─── NAV BETWEEN MILESTONES ─── */
  .modal-nav {
    display: flex;
    justify-content: space-between;
    margin-top: 48px;
    padding-top: 32px;
    border-top: 1px solid var(--ccc-border);
  }

  .modal-nav button {
    background: none;
    border: 1px solid var(--ccc-border);
    padding: 10px 20px;
    font-size: 12px;
    font-family: 'Inter', sans-serif;
    letter-spacing: 1px;
    text-transform: uppercase;
    cursor: pointer;
    color: var(--ccc-gray);
    border-radius: 4px;
    transition: all 0.3s;
    font-weight: 500;
  }

  .modal-nav button:hover {
    border-color: var(--ccc-black);
    color: var(--ccc-black);
    background: var(--ccc-accent-soft);
  }

  .modal-nav button:disabled {
    opacity: 0.3;
    cursor: default;
  }

  /* ─── KEYWORDS SECTION ─── */
  .keywords-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 80px 40px 120px;
    border-top: 1px solid var(--ccc-border);
  }

  .keywords-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 40px;
  }

  .keyword-card {
    background: var(--ccc-white);
    border: 1px solid var(--ccc-border);
    border-radius: 4px;
    padding: 28px;
  }

  .keyword-name {
    font-size: 15px;
    font-weight: 700;
    color: var(--ccc-black);
    margin-bottom: 8px;
  }

  .keyword-desc {
    font-size: 13px;
    color: var(--ccc-gray);
    line-height: 1.7;
    font-weight: 300;
  }

  /* ─── FOOTER ─── */
  footer {
    border-top: 1px solid var(--ccc-border);
    padding: 40px;
    text-align: center;
  }

  footer p {
    font-size: 12px;
    color: var(--ccc-gray-light);
    letter-spacing: 1px;
    font-weight: 300;
  }

  /* ─── RESPONSIVE ─── */
  @media (max-width: 768px) {
    .marquee-wrap { padding: 7px 0 4px; }
    .marquee span { font-size: 8px; letter-spacing: 4px; padding-right: 50px; }
    header { top: 26px; }
    header .inner { padding: 12px 12px; gap: 8px; }
    header .header-right { gap: 4px; overflow-x: auto; flex-shrink: 1; min-width: 0; }
    header .chapter-links { margin-right: 8px; padding-right: 8px; gap: 1px; flex-shrink: 0; }
    header .chapter-links a { font-size: 10px; padding: 3px 6px; }
    header nav { white-space: nowrap; flex-shrink: 0; }
    header nav a { margin-left: 10px; font-size: 10px; }
    .hero { padding: 170px 20px 60px; }
    .hero-stats { flex-wrap: wrap; }
    .hero-stat { flex: 1 1 50%; border-bottom: 1px solid var(--ccc-border); }
    .hero-stat:nth-child(2) { border-right: none; }
    .hero-stat:nth-child(3), .hero-stat:nth-child(4) { border-bottom: none; }
    .chapter-section { padding: 0 20px; }
    .milestone-grid { grid-template-columns: 1fr; }
    .modal { max-width: 100%; }
    .modal-content { padding: 32px 24px 60px; }
    .keywords-section { padding: 60px 20px 80px; }
    .keywords-grid { grid-template-columns: 1fr; }
  }

  /* ─── ANIMATIONS ─── */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>
</head>
<body>

<!-- MARQUEE -->
<div class="marquee-wrap"><div class="marquee"><span>TSUTAYA</span><span>마스다 무네아키</span><span>TSUTAYA</span><span>마스다 무네아키</span><span>TSUTAYA</span><span>마스다 무네아키</span><span>TSUTAYA</span><span>마스다 무네아키</span><span>TSUTAYA</span><span>마스다 무네아키</span><span>TSUTAYA</span><span>마스다 무네아키</span></div></div>

<!-- HEADER -->
<header>
  <div class="inner">
    <div class="logo">MASUDA <span>●</span> MUNEAKI</div>
    <div class="header-right">
      <div class="chapter-links" id="chapterLinks">
        <a href="#ch-0">전사</a>
        <a href="#ch-1">1장</a>
        <a href="#ch-2">2장</a>
        <a href="#ch-3">3장</a>
        <a href="#ch-4">4장</a>
        <a href="#ch-5">5장</a>
      </div>
      <nav>
        <a href="#milestones">타임라인</a>
        <a href="#keywords">키워드</a>
      </nav>
    </div>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-label">Culture Convenience Club — Biography</div>
  <h1>마스다 무네아키<br><em>일대기 마일스톤</em></h1>
  <p class="hero-sub">히라카타의 유흥가에서 태어나 일본 최대의 서점 체인 TSUTAYA를&nbsp;만들어낸&nbsp;기획자. 22개의 결정적 순간으로 읽는 그의 여정.</p>
  <div class="hero-stats">
    <div class="hero-stat">
      <div class="hero-stat-number">22</div>
      <div class="hero-stat-label">Milestones</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-number">6</div>
      <div class="hero-stat-label">Chapters</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-number">73</div>
      <div class="hero-stat-label">Years</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-number">1951–2024</div>
      <div class="hero-stat-label">Timeline</div>
    </div>
  </div>
</section>

<div id="milestones"></div>

<!-- JS will populate chapters and cards here -->
<div id="timeline-container"></div>

<!-- KEYWORDS -->
<section class="keywords-section" id="keywords">
  <div class="chapter-label"><span></span>관통하는 키워드</div>
  <div class="chapter-title">Core Themes</div>
  <div class="keywords-grid">
    <div class="keyword-card fade-in">
      <div class="keyword-name">기획 (Planning)</div>
      <div class="keyword-desc">모든 것은 기획이다. 매장도, 인사도, 인생도.</div>
    </div>
    <div class="keyword-card fade-in">
      <div class="keyword-name">고객 시점 — 빙의</div>
      <div class="keyword-desc">데이터 분석을 넘어 고객의 마음에 끝없이 파고들어 '빙의'하는 수준의 공감.</div>
    </div>
    <div class="keyword-card fade-in">
      <div class="keyword-name">멀티패키지스토어</div>
      <div class="keyword-desc">별개의 업종을 하나의 라이프스타일로 편집하는 복합 매장 콘셉트.</div>
    </div>
    <div class="keyword-card fade-in">
      <div class="keyword-name">세오리 C</div>
      <div class="keyword-desc">대립하는 A와 B를 동시에 해결하는 제3의 기획적 해법.</div>
    </div>
    <div class="keyword-card fade-in">
      <div class="keyword-name">서드플레이스</div>
      <div class="keyword-desc">집(1st)과 직장(2nd)에 이은 제3의 쉼터이자 영감의 장소.</div>
    </div>
    <div class="keyword-card fade-in">
      <div class="keyword-name">사람을 남기다</div>
      <div class="keyword-desc">"돈을 남기는 것은 하, 사업을 남기는 것은 중, 사람을 남기는 것은 상."</div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <p>마스다 무네아키 일대기 마일스톤 — 『두 명의 츠타야』 기반 정리</p>
</footer>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay"></div>
<div class="modal" id="modal">
  <div class="modal-close">
    <button id="modalCloseBtn">✕</button>
  </div>
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
const milestones = [
  {
    chapter: "전사(前史)",
    chapterEn: "PREHISTORY",
    items: [
      {
        num: "01",
        period: "1951–1958",
        title: "유흥가의 도련님 — 히라카타 사쿠라 신치에서의 유년기",
        summary: "오사카부 히라카타시의 유흥가 사쿠라 신치에서 오키야 '츠타야'를 운영하던 집안에서 태어남. 게이기와 유녀가 일상인 환경에서 자랐으나, 허약 체질에 여성 말투를 쓰는 소년으로 학교에서는 왕따를 당함.",
        insight: "인간의 욕망과 쾌락을 자연스럽게 접한 유년 환경이, 훗날 '사람이 원하는 것'을 직감적으로 읽어내는 기획자의 감수성의 원점이 되었다."
      },
      {
        num: "02",
        period: "1960년대 후반",
        title: "레슬링부 입부 — 의지력으로 자신을 바꾸다",
        summary: "허약하고 괴롭힘당하던 자신을 바꾸기 위해 가장 힘든 레슬링부에 입부. 매일 마라톤·바벨·스파링을 반복하며 체격과 정신력 모두를 변화시켜, 오사카부 대회 2위까지 오름.",
        insight: "\"자신의 의지력으로 자신을 바꿀 수 있다\"는 체험적 확신. 이후 마스다의 모든 도전의 근간이 되는 자기변혁의 원체험."
      },
      {
        num: "03",
        period: "1970년대 초",
        title: "양재학교에서의 재능 발견 — 연역법적 사고의 자각",
        summary: "하마노 야스히로의 『패션화 사회』에 감명받아 복식학원에 입학. 입체재단을 통해 '골(완성 이미지)을 먼저 떠올리고 역산하는 연역법적 사고'가 자신의 재능임을 발견.",
        insight: "기획자로서의 핵심 역량인 '완성 이미지를 먼저 그리고, 거기서 역으로 설계하는 사고방식'의 원점. 디자인 감각과 비즈니스 감각의 결합이 시작됨."
      },
      {
        num: "04",
        period: "1973–1982",
        title: "스즈야 입사 & 벨코몬즈 — 데이터로 경험을 대체하다",
        summary: "패션기업 스즈야에 입사. 신입으로서 아오야마 벨코몬즈의 주차장 대수를 스톱워치 실측으로 설계해 높은 평가를 받음. 이어 입사 2년 차에 가루이자와 벨코몬즈 설립 리더로 발탁되어 대성공. 그러나 가고시마 벨코몬즈에서는 불편한 입지를 간과해 대실패를 경험함.",
        insight: "\"데이터를 수집하면 경험이 없어도 일을 할 수 있다\"는 원칙의 체득. 성공과 실패 양쪽이 기획자를 단련시킨다."
      }
    ]
  },
  {
    chapter: "1장",
    chapterEn: "CHAPTER 1 — 츠타야 서점 탄생",
    items: [
      {
        num: "05",
        period: "1982",
        title: "렌탈 레코드숍 LOFT — 사업가로서의 첫걸음",
        summary: "스즈야 퇴사 후 히라카타에 렌탈 레코드 전문점 'LOFT'를 개업. 작은 빌라를 개조한 30평의 공간으로, 츠타야 서점의 프로토타입이 됨.",
        insight: "'고객이 원하는 것을 편리하게 제공한다'는 단순한 발상이 출발점. 작게 시작하되 콘셉트를 명확히 하는 것의 중요성."
      },
      {
        num: "06",
        period: "1983년 3월",
        title: "츠타야 서점 1호점 개업 — 멀티패키지스토어의 탄생",
        summary: "히라카타시에 서적·렌탈 레코드·렌탈 비디오를 한 곳에 모은 '멀티패키지스토어' 1호점을 개업. 개점 첫날부터 대성공을 거두며 기획이 세상에 받아들여지는 첫 손맛을 경험.",
        insight: "별개의 업종을 하나의 콘셉트로 통합하는 '편집력'이 새로운 가치를 만든다. 고객은 카테고리가 아니라 라이프스타일 단위로 소비한다."
      },
      {
        num: "07",
        period: "1984년 8월",
        title: "에사카점 대성공 — 미디어 주목과 사업 확장의 분기점",
        summary: "오사카 에사카에 로프트형 창고를 개조한 70평 매장에 카페바까지 결합. 미디어 취재가 쇄도하며 '츠타야 서점'이 전국적으로 주목받기 시작.",
        insight: "1호점이 주목받지 못한 것이 오히려 행운. 노하우가 축적된 타이밍에 주목받은 것이 폭발적 성장의 계기가 됨."
      }
    ]
  },
  {
    chapter: "2장",
    chapterEn: "CHAPTER 2 — 프랜차이즈와 CCC의 성장",
    items: [
      {
        num: "08",
        period: "1984년경",
        title: "하이디 마마의 가르침 — 경영 가치관의 원점",
        summary: "에사카점 성공에 우쭐해져 히라카타점 서비스가 떨어졌을 때, 단골 찻집 마마가 \"돈 벌려고만 장사하면 손님은 따라오지 않아\"라고 직언. 마스다는 히라카타점을 재정비.",
        insight: "사업의 본질은 '자기의 이익'이 아니라 '고객의 가치'. 현장의 목소리에 귀 기울이는 것이 경영자의 가장 중요한 덕목."
      },
      {
        num: "09",
        period: "1985년 9월",
        title: "1억 엔짜리 시스템 도입 & CCC 설립",
        summary: "직원 7명, 자본금 100만 엔의 츠타야 서점이 NEC에 약 1억 엔 규모의 네트워크 시스템을 발주. 같은 해 컬처 컨비니언스 클럽 주식회사(CCC)를 설립.",
        insight: "\"가맹점 1곳만으로는 불가능한 가치를 본부가 제공해야 한다\"는 FC의 본질을 꿰뚫은 선견지명. IT에 대한 과감한 투자가 성장의 토대."
      },
      {
        num: "10",
        period: "1986–1988",
        title: "닛판(日販)과의 전략적 파트너십",
        summary: "출판 도매상 닛판의 츠루타 부장과 신뢰 관계를 구축하여 서적·비디오·음반 일괄 유통의 '신사협정' 업무제휴를 성사. 이후 20년간 CCC 성장을 뒷받침.",
        insight: "자원이 부족한 벤처에게 대기업과의 파트너십은 성장의 엔진. 단, 제도가 아닌 '사람 간의 신뢰'가 기반이어야 지속 가능하다."
      }
    ]
  },
  {
    chapter: "3장",
    chapterEn: "CHAPTER 3 — 도쿄 진출과 디렉TV의 좌절",
    items: [
      {
        num: "11",
        period: "1994년 10월",
        title: "에비스 가든플레이스 진출 — 도쿄 본사 설립",
        summary: "에비스 가든플레이스에 150평 플래그십 매장과 도쿄 본사를 설립. '엔터테인먼트 기업 허브'라는 가치를 역제안해 유리한 조건을 이끌어냄.",
        insight: "협상에서 '깎아달라'가 아니라 '상대에게 이익이 되는 구조를 설계해 제안하는' 접근법. 가치를 만들어 교환하는 것이 마스다식 비즈니스의 본질."
      },
      {
        num: "12",
        period: "1995–1996",
        title: "영화 출자 — 콘텐츠 비즈니스의 내부를 배우다",
        summary: "영화 '샤라쿠'(1995)와 '도키와장의 청춘'(1996)에 출자. 단순 투자가 아니라, 영화의 저작권 구조·배급·상영 권리 등 콘텐츠 비즈니스의 핵심 정보를 내부자로서 직접 체득하기 위한 전략적 학습이었다.",
        insight: "\"앉아서 가르침을 받기보다, 출자해서 내부에 들어가 공부하는 편이 몸에 익는다.\" 기획 회사로서 콘텐츠 산업의 구조를 알기 위해 돈을 투자한 것이 아니라 '배움에 투자'한 것."
      },
      {
        num: "13",
        period: "1995–2000",
        title: "디렉TV 실패 — 최대의 좌절과 부활",
        summary: "미국 위성방송 디렉TV의 일본 법인 대표이사로 거액을 투자하나 사업 철수. 수십억 엔의 채무를 지게 됨. 라쿠텐 초기 출자의 캐피탈 게인으로 채무를 상환하고 복귀.",
        insight: "어떤 천재적 기획자라도 대실패를 피할 수 없다. 중요한 것은 실패 후에도 다시 일어서는 회복력과, 복수의 기회를 만들어둔 투자적 포트폴리오."
      },
      {
        num: "14",
        period: "1998–1999",
        title: "사장 해임, 격려 크루즈, 그리고 CCC 사장 복귀",
        summary: "1998년 디렉TV 사장직에서 사실상 해임되고 100억 엔의 빚을 안게 됨. 실의에 빠진 마스다를 위해 아뮤즈 창업자 오사토가 도쿄만 크루즈 격려 파티를 기획, 100명 넘는 인사가 모임. 1999년 4월 고뇌 끝에 CCC 사장 복귀를 결심하고 전국 직원 앞에서 눈물의 소신 표명.",
        insight: "\"올라갈 때는 사람이 다가온다. 내리막길일 때야말로 진짜 인간관계가 보인다.\" 실패 후에도 곁에 남는 사람들의 존재가 재기의 원동력이 된다. 잃어야만 보이는 것이 있다."
      }
    ]
  },
  {
    chapter: "4장",
    chapterEn: "CHAPTER 4 — 브랜드 혁신과 기업 개혁",
    items: [
      {
        num: "15",
        period: "1999년 12월",
        title: "SHIBUYA TSUTAYA & QFRONT — 시부야의 아이콘",
        summary: "시부야 스크램블 교차로 앞 QFRONT에 SHIBUYA TSUTAYA를 오픈. 스타벅스 입점을 위해 끈질긴 교섭 끝에 일본 최초 라이선스 매장을 실현.",
        insight: "'아무래도 스타벅스가 아니면 안 된다'는 타협 없는 집착이 세계적 매출을 자랑하는 매장을 탄생시킴. 한 번 거절 당했다고 해서 절대 포기하지 말 것."
      },
      {
        num: "16",
        period: "2003년 4월",
        title: "TSUTAYA TOKYO ROPPONGI — 가문으로 롯폰기 힐스를 열다",
        summary: "거절당한 롯폰기 힐스 입점을 위해 사토 가시와와 새 브랜딩을 구축. 츠타야 고쇼도의 가문을 오동나무 상자에 담아 프레젠테이션하여 입점을 쟁취.",
        insight: "거절은 더 높은 수준의 기획을 이끌어내는 촉매제. 브랜드의 '뿌리(역사와 이야기)'를 스토리텔링하는 것이 강력한 설득력이 된다."
      },
      {
        num: "17",
        period: "2003년 10월",
        title: "T카드 탄생 — 공통 포인트 카드의 선구자",
        summary: "FC점마다 달랐던 회원증을 통합하고, 타업종 포인트 적립이 가능한 T카드를 출시. 2,000만 회원을 무기로 신닛폰석유를 첫 제휴사로 확보.",
        insight: "'지갑 속 카드가 너무 많다'는 일상적 불편함에서 출발. 자사 자원을 타업종에 가치 있는 자산으로 재구성하는 플랫폼 사고의 전형."
      },
      {
        num: "18",
        period: "2003–2005",
        title: "근신과 차세대 TSUTAYA — 대기업병과의 전쟁",
        summary: "상장 후 FC 매장의 질적 저하와 직원의 위기의식 상실을 목도. '닛케이 신문을 읽지 않는다, 넥타이를 맨다, 경제단체 모임에 가지 않는다, 골프를 치지 않는다'는 4가지 서약을 세우고 현장 개혁에 돌입. 다카하시 다카노리와 함께 6곳의 모델 매장을 만들고, 3,300페이지 콘셉트북과 55회 스터디로 '서드플레이스' 비전을 조직에 전파함.",
        insight: "기업이 커지면 시스템에 의존하여 '고객의 얼굴'이 보이지 않게 된다. 근신의 자세로 현장에 돌아간 창업자의 결단이 회사를 재생시킴."
      }
    ]
  },
  {
    chapter: "5장",
    chapterEn: "CHAPTER 5 — 라이프스타일 제안과 사업 승계",
    items: [
      {
        num: "19",
        period: "2011년 12월",
        title: "다이칸야마 T-SITE — 꿈의 서점",
        summary: "'단카이 세대의 영감 공간'을 콘셉트로 T-SITE 오픈. 시크릿 오픈으로 첫날 2명이었으나 수개월 만에 휴일 2만 명이 방문하는 핫스폿으로 성장.",
        insight: "고객의 마음에 '빙의'하여 기획하면, 시간이 지나도 진부해지지 않는 본질적 가치가 탄생한다. 서드플레이스는 '삶의 방식의 제안'이다."
      },
      {
        num: "20",
        period: "2013년 4월",
        title: "다케오시 도서관 — 공공 영역으로의 확장",
        summary: "다케오시장의 직담판으로 시작된 도서관 프로젝트. 연중무휴·스타벅스·T카드 연동으로 방문자 25만→92만 명. 한편 '공공성의 무게'를 배움.",
        insight: "민간의 혁신을 공공에 적용할 때는 '쌓아올려 온 것에 대한 경의'와 '시민과 함께 생각하는 자세'가 필수적."
      },
      {
        num: "21",
        period: "2011",
        title: "MBO & 비상장화 — 자유로운 기획을 위한 선택",
        summary: "도쿄증권거래소 1부에서 자진 상장폐지(MBO)를 단행. 장기적 시야에서 자유롭게 기획할 수 있는 경영 환경을 선택.",
        insight: "기획 회사에게 진정 필요한 것은 '단기 실적'이 아니라 '시간을 들여 본질적 가치를 만드는 자유'임을 보여준 결단."
      },
      {
        num: "22",
        period: "2023–2024",
        title: "다카하시에게로의 승계 — 우타마로에서 츠타야 주자부로로",
        summary: "인사·모델점 구축·3년간 주부 생활을 거친 다카하시 다카노리에게 경영을 완전 이양. 마스다는 자신을 '헤이세이의 우타마로'로 표현하며 가루이자와 프로젝트로 시선을 옮김.",
        insight: "사업 승계의 핵심: ① 후계자에게 완전히 맡기고 참견하지 않는 도량, ② 맡겨진 사람이 해낼 수 있는지 분별하는 기량. \"더 설레는 새 장난감을 찾으면, 이전 것은 내려놓을 수 있다.\""
      }
    ]
  }
];

// Flatten for navigation
const allItems = milestones.flatMap((ch, ci) =>
  ch.items.map((item, ii) => ({...item, chapter: ch.chapter, chapterEn: ch.chapterEn}))
);

// Render timeline
function renderTimeline() {
  const container = document.getElementById('timeline-container');
  let html = '';

  milestones.forEach((ch, ci) => {
    html += `
      <section class="chapter-section" id="ch-${ci}">
        <div class="chapter-header fade-in">
          <div class="chapter-label">${ch.chapterEn}</div>
          <div class="chapter-title">${ch.chapter}</div>
        </div>
        <div class="milestone-grid">
    `;

    ch.items.forEach((item, ii) => {
      const globalIndex = allItems.findIndex(a => a.num === item.num);
      html += `
        <div class="milestone-card fade-in" onclick="openModal(${globalIndex})">
          <div class="milestone-number">NO. ${item.num}</div>
          <div class="milestone-period">${item.period}</div>
          <div class="milestone-title">${item.title}</div>
          <div class="milestone-summary">${item.summary}</div>
          <div class="milestone-arrow">→</div>
        </div>
      `;
    });

    html += `</div></section>`;
  });

  container.innerHTML = html;
  observeFadeIn();
}

// Modal
let currentIndex = 0;

function openModal(index) {
  currentIndex = index;
  renderModalContent(index);
  document.getElementById('modalOverlay').classList.add('active');
  document.getElementById('modal').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('active');
  document.getElementById('modal').classList.remove('active');
  document.body.style.overflow = '';
}

function renderModalContent(index) {
  const item = allItems[index];
  const content = document.getElementById('modalContent');
  content.innerHTML = `
    <div class="modal-chapter">${item.chapterEn}</div>
    <div class="modal-number">NO. ${item.num}</div>
    <div class="modal-title">${item.title}</div>
    <div class="modal-period">${item.period}</div>
    <div class="modal-divider"></div>
    <div class="modal-section-label">요약</div>
    <div class="modal-summary">${item.summary}</div>
    <div class="modal-insight-box">
      <div class="modal-insight-label">인사이트</div>
      <div class="modal-insight">${item.insight}</div>
    </div>
    <div class="modal-nav">
      <button onclick="navigate(-1)" ${index === 0 ? 'disabled' : ''}>← Prev</button>
      <button onclick="navigate(1)" ${index === allItems.length - 1 ? 'disabled' : ''}>Next →</button>
    </div>
  `;
  document.getElementById('modal').scrollTop = 0;
}

function navigate(dir) {
  const newIndex = currentIndex + dir;
  if (newIndex >= 0 && newIndex < allItems.length) {
    currentIndex = newIndex;
    renderModalContent(currentIndex);
  }
}

document.getElementById('modalOverlay').addEventListener('click', closeModal);
document.getElementById('modalCloseBtn').addEventListener('click', closeModal);
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
  if (document.getElementById('modal').classList.contains('active')) {
    if (e.key === 'ArrowLeft') navigate(-1);
    if (e.key === 'ArrowRight') navigate(1);
  }
});

// Intersection Observer for fade-in
function observeFadeIn() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

  document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
}

// Chapter nav active state on scroll
function updateChapterNav() {
  const links = document.querySelectorAll('#chapterLinks a');
  const sections = milestones.map((_, i) => document.getElementById(`ch-${i}`));
  const scrollY = window.scrollY + 200;

  let activeIndex = 0;
  sections.forEach((sec, i) => {
    if (sec && sec.offsetTop <= scrollY) activeIndex = i;
  });

  links.forEach((link, i) => {
    link.classList.toggle('active', i === activeIndex);
  });
}

window.addEventListener('scroll', updateChapterNav);

// Init
renderTimeline();
updateChapterNav();
</script>
</body>
</html>
